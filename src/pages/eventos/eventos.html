<!--
  Generated template for the Eventos page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header text-center>
  <ion-navbar>
    <ion-title><img src="assets/img/logofooter2.png"></ion-title>
    <ion-buttons left>
      <button ion-button icon-only (click)="openMenu()">
          <ion-icon name='menu'></ion-icon>
        </button>
    </ion-buttons>
    <ion-buttons right>
      <button ion-button icon-only (click)="openSearch()">
        <ion-icon name='search'></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <div id="categories" [class.hide]="!showMenu">
    <ion-row>
      <ion-col col-4 align-self-center><button (click)="categoryTapped('cine')">Cine</button></ion-col>
      <ion-col col-4 align-self-center><button (click)="categoryTapped('musica')">Música</button></ion-col>
      <ion-col col-4 align-self-center><button (click)="categoryTapped('espectáculos')">Espectáculos</button></ion-col>
      <ion-col col-5 align-self-center><button (click)="categoryTapped('arteyliteratura')">Arte y Literatura</button></ion-col>
      <ion-col col-4 align-self-center><button (click)="categoryTapped('exposiciones')">Exposiciones</button></ion-col>
      <ion-col col-3 align-self-center><button (click)="categoryTapped('ocio')">Ocio</button></ion-col>
      <ion-col col-5 align-self-center><button (click)="categoryTapped('accionsocial')">Acción social</button></ion-col>
      <ion-col col-7 align-self-center><button (click)="categoryTapped('universidad')">Vida universitaria</button></ion-col>
      <ion-col col-6 align-self-center><button (click)="categoryTapped('cursos-y-talleres')">Cursos y Talleres</button></ion-col>
      <ion-col col-6 align-self-center><button (click)="categoryTapped('charlas-y-conferencias')">Charlas y conferencias</button></ion-col>
    </ion-row>
  </div>
  <ion-searchbar
    *ngIf="searchBox"
    showCancelButton="True"
    cancelButtonText="X"
    debounce =250
    placeholder ="Buscar evento..."
    [(ngModel)]="searchval"
    (ionInput)="searchItems()"
    (ionCancel)="getEventos()"
    (ionClear)="getEventos()">
  </ion-searchbar>
</ion-header>
<ion-content>
  <ion-slides #islider id="slideEventos" *ngIf="!hideSlide">
    <ion-slide style="background: url('http://www.lagaleramagazine.es/wp-content/uploads/2017/04/invisiblesenunmundovisible00.jpg')center center/cover;">
      <h3>Slide1</h3>
      <p>Detail</p>
    </ion-slide>
    <ion-slide style="background: url(http://www.lagaleramagazine.es/wp-content/uploads/2017/04/enlazados.jpg) center center/cover;">
      <h3>Slide2</h3>
      <p>Detail</p>
    </ion-slide>
    <ion-slide style="background: url(http://www.lagaleramagazine.es/wp-content/uploads/2017/04/la-rosa-tatuada-portada.jpg) center center/cover;">
      <h3>Slide3</h3>
      <p>Detail</p>
    </ion-slide>
  </ion-slides>
  <ion-grid>
    <ion-row class="news">
      <ion-col col-6 *ngFor="let evento of EventosLista" tappable (click)="eventTapped($event, evento)" [style.background-image]="'url(' + evento.image.sizes.thumbnail.url + ')' | safe: 'style'"
        style="background:center center/cover">
        <p class="titulo" [innerHTML]="evento.title | truncate : 20 : '.'" ></p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Add a method doInfinite -->
  <ion-infinite-scroll  (ionInfinite)="doInfinite($event)" >
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Cargando mas eventos..."
    >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
